<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Admin Panel - GST Billing System" />
    <link rel="shortcart icon" href="/images/logo2.png">
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <![endif]-->
    <title> <%= bill.name %> - Invoice </title>
    <!-- BOOTSTRAP CORE STYLE  -->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
	  <!-- CUSTOM STYLE  -->
    <link href="assets/css/custom-style.css" rel="stylesheet" />
    <!-- GOOGLE FONTS -->
    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css' />-->
    <link href="assets/css/google-fonts.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css" />
    <!--<script src=”//mrrio.github.io/jsPDF/dist/jspdf.debug.js”></script>-->
    <!-- <script>var jsPDF = require('jsPDF');</script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>
</head>
<body>
 <div class="container" id="testcase">
        <div  class="row text-center">
            <div class="col-lg-12 col-md-12 col-sm-12 invoice">
               <h4> <strong>INVOICE</strong></h4>
            </div>
        </div>
      <div class="row pad-top-botm">
         <div class="col-lg-8 col-md-8 col-sm-8 title-logo">
            <img src="/images/logo.png" style="width: 180px;height: 180px;" /> 
         </div>
          <div class="col-lg-4 col-md-4 col-sm-4 details-container">
              <br />
               <strong> GST Billing System </strong>
              <br />
                  <b>Address :</b> 422/A, GST Road, 
              <br />
                  Kolkata , West Bengal, India.
              <br />
                  <b>GSTIN : </b> 19AAACB5343E1ZY
         </div>
     </div>

     <div  class="row text-center contact-info">
         <div class="col-lg-12 col-md-12 col-sm-12">
             <hr />
             <span>
                 <strong>Email : </strong>  gst.portal@gmail.com 
             </span>
             <span>
                 <strong>Call : </strong>  +91 700 324 7631 // +91 824 016 1374
             </span>
             <hr />
         </div>
     </div>
     <div  class="row pad-top-botm client-info">
         <div class="col-lg-8 col-md-8 col-sm-8 title-logo">
         <h4>  <strong>Client Information</strong></h4>
           <strong>  <%= bill.name %> </strong>
             <br />
                  <b>Address :</b> <%= bill.address %>, India
              <br />
             <b>Call :</b> <%= bill.mobile %>
              <br />
             <b>E-mail :</b> <%= bill.email %>
         </div>
          <div class="col-lg-4 col-md-4 col-sm-4 details-container">
            
               <h4>  <strong>Payment Details </strong></h4>
            <b>Bill Amount : <%= bill.price %> </b>
              <br />
               <b>Bill Date :</b>  <%= bill.date %>
               <br />
               <b>Bill No :</b>  <%= bill.id %>
         </div>
     </div>
     <div class="row">
         <div class="col-lg-12 col-md-12 col-sm-12">
           <div class="table-responsive">
                          <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>S. No.</th>
                                    <th>Product Name</th>
                                    <th>Unit Price</th>
                                    <th>CGST</th>
                                    <th>SGST</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% if(bill) { %>
                                    <% for(var i = 0; i < bill.product.length; i++) { %>
                                        <tr>
                                            <td><%= i+1 %></td>
                                            <td><%= bill.product[i] %></td>
                                            <td><%= bill.sell[i] %></td>
                                            <td><%= bill.CGST[i] %></td>
                                            <td><%= bill.SGST[i] %></td>
                                            <% var gst = (bill.sell[i] * (bill.CGST[i] + bill.SGST[i]))/100; %>
                                            <td><%= (bill.sell[i] + gst) %></td>
                                        </tr>
                                    <% } %>
                                <% } %>
                            </tbody>
                        </table>
               </div>
             <hr />
             <!--<div class="ttl-amts">
               <h5>  Total Amount : <%= bill.price %> </h5>
             </div>
             <hr />
              <div class="ttl-amts">
                  <h5>  Tax : 90 USD ( by 10 % on bill ) </h5>
             </div>
             <hr />-->
              <div class="ttl-amts">
                  <h4> <strong>Grand Total : <%= bill.price %> </strong> </h4>
             </div>
         </div>
     </div>
      <div class="row">
         <div class="col-lg-12 col-md-12 col-sm-12">
            <hr /> *This is an electronic generated invoice so doesn't require any signature.
             </div>
      </div>
      <div class="row pad-top-botm" id="ignore">
         <div class="col-lg-12 col-md-12 col-sm-12">
            <a href="./addbill"><input id="back" type="button" class="btn btn-primary btn-md" value="Back" /></a>
             <input id="print" type="button" class="btn btn-primary btn-md" onclick="printInvoice()" value="Print Now" />
             <!--<a class="btn btn-primary btn-md" id="pdf">Generate PDF</a>-->
             <!-- <input id="PDF" type="button" class="btn btn-primary btn-md" href="javascript:demoFromHTML()" value="Save As PDF" /> -->
             </div>
         </div>
 </div>
  <script  type="text/javascript">
    function printInvoice() {
        window.print();
    }
  </script>
  <!--<script>
        function demoFromHTML() {
            var pdf = new jsPDF('p', 'pt', 'letter');
            // source can be HTML-formatted string, or a reference
            // to an actual DOM element from which the text will be scraped.
            source = $('#testcase')[0];
    
            // we support special element handlers. Register them with jQuery-style 
            // ID selector for either ID or node name. ("#iAmID", "div", "span" etc.)
            // There is no support for any other type of selectors 
            // (class, of compound) at this time.
            specialElementHandlers = {
                // element with id of "bypass" - jQuery style selector
                '#bypassme': function (element, renderer) {
                    // true = "handled elsewhere, bypass text extraction"
                    return true
                }
            };
            margins = {
                top: 80,
                bottom: 60,
                left: 40,
                width: 522
            };
            // all coords and widths are in jsPDF instance's declared units
            // 'inches' in this case
            pdf.fromHTML(
            invoice.ejs, // HTML string or DOM elem ref.
            margins.left, // x coord
            margins.top, { // y coord
                'width': margins.width, // max width of content on PDF
                'elementHandlers': specialElementHandlers
            },
    
            function (dispose) {
                // dispose: object with X, Y of the last line add to the PDF 
                //          this allow the insertion of new lines after html
                pdf.save('Test.pdf');
            }, margins);
        }
     </script>-->
</body>
</html>
